{"version":3,"sources":["webpack:///./src/user/views/Login.vue","webpack:///./src/user/views/Login.vue?fdef"],"names":["style","model","form","size","ref","rules","prop","username","prefix-icon","placeholder","password","show-password","login","toRegister","name","data","required","message","trigger","created","sessionStorage","removeItem","mounted","window","addEventListener","this","handleKeyPress","beforeDestroy","removeEventListener","document","body","overflow","methods","$router","push","$refs","validate","valid","console","log","request","post","then","res","code","$message","type","setItem","JSON","stringify","msg","catch","error","event","key","render"],"mappings":"0IACOA,MAAA,uJ,GACEA,MAAA,kM,EAED,eAEM,OAFDA,MAAA,6FAA2F,CAC9F,eAA2E,QAArEA,MAAA,2DAA4D,Q,oBASoF,M,iBAGK,M,4KAhBnK,eAoBM,MApBN,EAoBM,CAnBJ,eAkBM,MAlBN,EAkBM,CAjBJ,eAgBY,GAhBFC,MAAO,EAAAC,KAAMC,KAAK,SAASH,MAAA,gBAAsBI,IAAI,OAAQC,MAAO,EAAAA,O,0BAC5E,iBAEM,CAFN,EAGA,eAEe,GAFDL,MAAA,sBAA0BM,KAAK,Y,0BAC3C,iBAA2J,CAA3J,eAA2J,G,WAAxI,EAAAJ,KAAKK,S,qDAAL,EAAAL,KAAKK,SAAQ,IAAEC,cAAY,qBAAqBC,YAAY,SAAST,MAAA,qD,iCAE1F,eAEe,GAFDM,KAAK,YAAU,C,yBAC3B,iBAAkK,CAAlK,eAAkK,G,WAA/I,EAAAJ,KAAKQ,S,qDAAL,EAAAR,KAAKQ,SAAQ,IAAEF,cAAY,eAAeC,YAAY,QAAQE,gBAAA,GAAcX,MAAA,qD,iCAEjG,eAEe,Q,yBADb,iBAAoK,CAApK,eAAoK,GAAzJA,MAAA,wHAA6H,QAAO,EAAAY,O,0BAAO,iBAAE,C,oCAE1J,eAEe,Q,yBADb,iBAAyK,CAAzK,eAAyK,GAA9JZ,MAAA,wHAA6H,QAAO,EAAAa,Y,0BAAY,iBAAE,C,sFAUxJ,GACbC,KAAM,QACNC,KAFa,WAGX,MAAM,CACJb,KAAK,GACLG,MAAO,CACLE,SAAU,CACR,CAAES,UAAU,EAAMC,QAAS,SAAUC,QAAS,SAEhDR,SAAU,CACR,CAAEM,UAAU,EAAMC,QAAS,QAASC,QAAS,YAKrDC,QAfa,WAgBXC,eAAeC,WAAW,SAE5BC,QAlBa,WAmBXC,OAAOC,iBAAiB,UAAWC,KAAKC,iBAE1CC,cArBa,WAsBXJ,OAAOK,oBAAoB,UAAWH,KAAKC,gBAC3CG,SAASC,KAAK9B,MAAM+B,SAAW,IAEjCC,QAAQ,CACNnB,WADM,WAEJY,KAAKQ,QAAQC,KAAK,oBAEpBtB,MAJM,WAIE,WACNa,KAAKU,MAAM,QAAQC,UAAS,SAACC,GAC3B,IAAIA,EAwBF,OADAC,QAAQC,IAAI,mBACL,EAvBPC,EAAA,KAAQC,KAAK,kBAAmB,EAAKvC,MAAMwC,MAAK,SAAAC,GAC7B,MAAbA,EAAIC,MACN,EAAKC,SAAS,CACZC,KAAM,UACN7B,QAAS,SAEXG,eAAe2B,QAAQ,OAAQC,KAAKC,UAAUN,EAAI5B,OAClD,EAAKkB,QAAQC,KAAK,WAElB,EAAKW,SAAS,CACZC,KAAM,QACN7B,QAAS0B,EAAIO,SAGhBC,OAAM,SAAAC,GACPd,QAAQc,MAAMA,GACd,EAAKP,SAAS,CACZC,KAAM,QACN7B,QAAS,sBASnBS,eAlCM,SAkCS2B,GACK,UAAdA,EAAMC,KACR7B,KAAKb,WCrFb,EAAO2C,OAASA,EAED","file":"js/chunk-2d21d8c5.26898ca1.js","sourcesContent":["<template>\r\n  <div style=\"width: 100%;height: 100vh; display: flex;justify-content: center;align-items: center; background: linear-gradient(340deg, #68b4cc, #c69f3d);\">\r\n    <div style=\"width: 300px; height: 400px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; border-radius: 15px; background-color: #ffffff;\">\r\n      <el-form :model=\"form\" size=\"normal\" style=\"width: 260px;\" ref=\"form\" :rules=\"rules\">\r\n        <div style=\"width: 100%; height: 40px; margin-top: 10px; line-height: 40px; text-align: center;\">\r\n          <span style=\"color: #4b7700; font-weight: bold; font-size: 28px;\">登录</span>\r\n        </div>\r\n        <el-form-item style=\"margin-top: 30px;\" prop=\"username\">\r\n          <el-input v-model=\"form.username\" prefix-icon=\"el-icon-user-solid\" placeholder=\"请输入用户名\" style=\"border-radius: 10px; border: 1px solid #30bcde;\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input v-model=\"form.password\" prefix-icon=\"el-icon-lock\" placeholder=\"请输入密码\" show-password style=\"border-radius: 10px; border: 1px solid #919aeb;\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button style=\"width: 100%; height: 45px; border-radius: 10px; background: linear-gradient(26deg, #7a86f5, #da5b4d); color: white;\" @click=\"login\">登录</el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button style=\"width: 100%; height: 45px; border-radius: 10px; background: linear-gradient(26deg, #fbbd4c, #ff6f61); color: white;\" @click=\"toRegister\">注册</el-button>\r\n        </el-form-item>\r\n        </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../../utils/request\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data(){\r\n    return{\r\n      form:{},\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    sessionStorage.removeItem(\"user\");\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n    document.body.style.overflow = \"\";\r\n  },\r\n  methods:{\r\n    toRegister() {\r\n      this.$router.push(\"/user/register/\")\r\n    },\r\n    login() {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          request.post(\"/api/user/login\", this.form).then(res => {\r\n            if (res.code === '0') {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: \"登录成功\"\r\n              });\r\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data));\r\n              this.$router.push(\"/user/\");\r\n            } else {\r\n              this.$message({\r\n                type: \"error\",\r\n                message: res.msg\r\n              });\r\n            }\r\n          }).catch(error => {\r\n            console.error(error);\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"登录失败，请稍后重试\"\r\n            });\r\n          });\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    handleKeyPress(event) {\r\n      if (event.key === \"Enter\") {\r\n        this.login();\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=36660ac1\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}